# üêõ –û—Ç–ª–∞–¥–∫–∞ Module Federation

## –ü—Ä–æ–±–ª–µ–º–∞: Vue –∏ Angular –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç "Loading..." –∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

### üîç –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
2. –ù–∞–∂–º–∏—Ç–µ **F12** (–æ—Ç–∫—Ä–æ–µ—Ç—Å—è DevTools)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Console**

### üîç –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∑–∞–ø—É—â–µ–Ω—ã

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –≤–∫–ª–∞–¥–∫–∞—Ö:
- http://localhost:3000 - Host (–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å)
- http://localhost:3001 - React Remote (–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å)
- http://localhost:3002 - Vue Remote (–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å)
- http://localhost:3003 - Angular Remote (–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å)

–ï—Å–ª–∏ –∫–∞–∫–æ–µ-—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è - –æ–Ω–æ –Ω–µ –∑–∞–ø—É—â–µ–Ω–æ!

### üîç –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

–ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ `/vue` –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏:
```
Loading Vue Remote App...
Vue loaded successfully
Vue Remote component loaded: {default: {...}}
Vue app mounted successfully
```

–ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ `/angular` –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è:
```
Loading Angular Remote App...
Angular Remote component loaded: {AppComponent: {...}}
Angular component rendered
```

### ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

#### –û—à–∏–±–∫–∞ 1: "Failed to fetch dynamically imported module"

**–ü—Ä–∏—á–∏–Ω–∞:** Remote –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—â–µ–Ω–æ –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ

**–†–µ—à–µ–Ω–∏–µ:**
```powershell
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∑–∞–ø—É—â–µ–Ω—ã
netstat -ano | findstr ":300"

# –ï—Å–ª–∏ –Ω–µ—Ç - –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
.\start-dev.ps1
```

#### –û—à–∏–±–∫–∞ 2: "Shared module is not available"

**–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–Ω—Ñ–ª–∏–∫—Ç –≤–µ—Ä—Å–∏–π shared –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–µ—Ä—Å–∏–∏ Vue –≤ host –∏ vue-remote —Å–æ–≤–ø–∞–¥–∞—é—Ç:
```powershell
# –í host
cd host
npm list vue

# –í vue-remote
cd vue-remote
npm list vue
```

#### –û—à–∏–±–∫–∞ 3: CORS –æ—à–∏–±–∫–∞

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã CORS headers

**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `webpack.config.js` –µ—Å—Ç—å:
```javascript
devServer: {
  headers: {
    'Access-Control-Allow-Origin': '*',
  },
}
```

### üîß –†–µ—à–µ–Ω–∏–µ: –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π Vue Wrapper

–ï—Å–ª–∏ Vue –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥:

**–í `host/src/App.jsx` –∑–∞–º–µ–Ω–∏—Ç–µ:**
```javascript
import { VueWrapper } from './components/VueWrapper';
```

**–ù–∞:**
```javascript
import { VueWrapperAlt } from './components/VueWrapperAlt';
```

**–ò –≤ Routes:**
```javascript
<Route path="/vue" element={<VueWrapperAlt />} />
```

### üîß –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—ë

```powershell
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ
Get-Process node | Stop-Process -Force

# –ü–æ–¥–æ–∂–¥–∞—Ç—å 3 —Å–µ–∫—É–Ω–¥—ã
Start-Sleep -Seconds 3

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
.\start-dev.ps1
```

### üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ webpack —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–ª –±–µ–∑ –æ—à–∏–±–æ–∫:**

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
[0] webpack 5.104.1 compiled successfully
[1] webpack 5.104.1 compiled successfully
[2] webpack 5.104.1 compiled successfully
[3] webpack 5.104.1 compiled successfully
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ remoteEntry.js –¥–æ—Å—Ç—É–ø–Ω—ã:**
- http://localhost:3001/remoteEntry.js (–¥–æ–ª–∂–µ–Ω —Å–∫–∞—á–∞—Ç—å—Å—è —Ñ–∞–π–ª)
- http://localhost:3002/remoteEntry.js (–¥–æ–ª–∂–µ–Ω —Å–∫–∞—á–∞—Ç—å—Å—è —Ñ–∞–π–ª)
- http://localhost:3003/remoteEntry.js (–¥–æ–ª–∂–µ–Ω —Å–∫–∞—á–∞—Ç—å—Å—è —Ñ–∞–π–ª)

### üéØ –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ iframe –≤–º–µ—Å—Ç–æ Module Federation –¥–ª—è Vue/Angular**

**–í–∞—Ä–∏–∞–Ω—Ç 2: –û—Ç–∫—Ä–æ–π—Ç–µ –∫–∞–∂–¥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ:**
- React: http://localhost:3001
- Vue: http://localhost:3002
- Angular: http://localhost:3003

**–í–∞—Ä–∏–∞–Ω—Ç 3: –°–æ–±–µ—Ä–∏—Ç–µ –≤—Å—ë —Å –Ω—É–ª—è:**
```powershell
# –£–¥–∞–ª–∏—Ç–µ –≤—Å–µ node_modules
Remove-Item -Recurse -Force node_modules, host/node_modules, react-remote/node_modules, vue-remote/node_modules, angular-remote/node_modules

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ
npm run install:all

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ
.\start-dev.ps1
```

### üìù –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª–æ–≥–∏

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
1. –í—Å–µ –æ—à–∏–±–∫–∏ (–∫—Ä–∞—Å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è)
2. –í—Å–µ warning (–∂–µ–ª—Ç—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è)
3. –õ–æ–≥–∏ –∑–∞–≥—Ä—É–∑–∫–∏ Vue/Angular

–ò —Ç–∞–∫–∂–µ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:
1. –õ–æ–≥–∏ webpack –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
2. –û—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```powershell
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç—ã
netstat -ano | findstr ":300"

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js
Get-Process node | Stop-Process -Force

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
.\start-dev.ps1

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ webpack
# (—Å–º. —Ç–µ—Ä–º–∏–Ω–∞–ª –≥–¥–µ –∑–∞–ø—É—â–µ–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

# –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞
# Ctrl+Shift+Delete ‚Üí –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë
```
